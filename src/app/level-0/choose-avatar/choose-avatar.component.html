<app-loading *ngIf="loading"></app-loading>
<div class="avatar-card" *ngIf="!loading">
  <div class="avatar-header">
    <span> Choose your avatar</span>
  </div>
  <div class="avatar-options" [ngStyle]="{'margin': auto}">
    <div class="character-div" id="{{ row1 }}" (click)="card($event)" [ngStyle]="{'top': '4%','padding-bottom': '1%', 'left': ((1*x)*28 + 11) + '%', 'border-color': charValue == row1 ? 'rgba(102, 102, 153, 1)': 'transparent'}"
      *ngFor="let row1 of characterList.row1; let x = index;">
      <img id="{{ row1 }}" (click)="card($event)" src="assets/images/avatar/{{row1}}.png" alt="">
    </div>
    <div class="character-div1" id="{{ row2 }}" (click)="card($event)" [ngStyle]="{'bottom': '0%', 'left': ((1*y)*28 + 11) + '%','padding-bottom': '1%', 'border-color': charValue == row2 ? 'rgba(102, 102, 153, 1)': 'transparent'}"
      *ngFor="let row2 of characterList.row2; let y = index;">
      <img id="{{ row2 }}" (click)="card($event)" src="assets/images/avatar/{{row2}}.png" alt="">
    </div>
  </div>
  <div class="action-div">
    <input type="button" [disabled]="!imageSelectFlag" [ngStyle]="{'opacity': imageSelectFlag? '1': '0.5'}" (click)="namepopUp(charValue)"
      value="CONFIRM">
  </div>
</div>
<div class="shadow-popup" [hidden]="!namePopupActive">
  <div class="name-popup-box">
    <div class="image-area">
      <img src="assets/images/avatar/{{charValue}}.png" alt="">
    </div>
    <div class="name-area">
      <div class="name-card">
        <span class="name-header">Give your avatar a name</span>
        <input class="name-section" (input)="checkLength($event)" type="text" name="" #nameInput>
        <input class="action-section" [disabled]="!checkLengthFlag" type="button" [ngStyle]="{'opacity': checkLengthFlag ? '1' : '0.6'}"
          (click)="nameSubmit(nameInput.value)" value="SUBMIT">
      </div>
    </div>
  </div>
</div>